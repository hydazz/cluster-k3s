apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
    name: mailu
    namespace: mailu
spec:
    interval: 5m
    install:
        createNamespace: true
        crds: CreateReplace
        remediation:
            retries: 3
    upgrade:
        crds: CreateReplace
        remediation:
            retries: 3
    chart:
        spec:
            chart: mailu
            version: 2.1.1
            interval: 5m
            sourceRef:
                kind: HelmRepository
                name: mailu
                namespace: flux-system
    values:
        domain: hyde.services
        hostnames:
            - ENC[AES256_GCM,data:24bhUmoe3A5F+ogYO+4f3EKh,iv:Ln2bdA+/6aTX22ql0AU3WH+dFSbBJ1o8ER672wHtY7g=,tag:6md/eg1ggtF06wAHJ1TPcg==,type:str]
            - ENC[AES256_GCM,data:+nC9kbBLdZYUs2oYEtalaJN3ZxA=,iv:evm0HElPlqobnBG6rTPToycLXREu/e23YfYqLnfB3Ig=,tag:jRDsVSgRvjnTrHS61uT4YA==,type:str]
        initialAccount:
            mode: ifmissing
        ingress:
            enabled: true
            ingressClassName: nginx
            existingSecret: wildcard.hyde.services
        logLevel: INFO
        timezone: Australia/Melbourne
        limits:
            authRatelimit:
                ip: 100/minute;3600/hour
                user: 100/day
            messageSizeLimitInMegabytes: 200
        persistence:
            size: 1Gi
        secretKey:
            existingSecret: mailu-secrets
        tika:
            enabled: false
        clamav:
            enabled: false
        rspamd:
            enabled: false
sops:
    kms: []
    gcp_kms: []
    azure_kv: []
    hc_vault: []
    age:
        - recipient: age1umudqfh963mmhgkgatylwh9jgez7qh4twpaqy3ea3nlcarhm09hq5er32r
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBCOFQ1NnFHcmd2amNrT1ZK
            aTlqcHRpSkg0VHhERVJNaEtPL0FjcTFaZlNNCjNiYkFCSmpJWnBLMTJPRmU0M1Rs
            S2FueEJRTFRpWjUrcDNkdWt0Z3BPUW8KLS0tIDNxK3NsR1FSc2R6S1c5dGs3QWFp
            cStUOEowZ1dUWVJQV3BlTkcrZDBEVk0KN1ttiF9/Cfx8jrtu6H6zagZqqYtfe1PU
            Pz5Leqxs+4bFAnJ17AFETITh44xHehC8QwShCGMRIUlHU0OeYxh+/Q==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2024-09-12T08:29:44Z"
    mac: ENC[AES256_GCM,data:wlDI81/tsTsQ2VkapYWqV3wX/6p0t7ZFj3L0TVts5RFgoAI0mochWlF70m57Uv9smJyUL9ueELIfd/1uBSjoGZX+EMeSFQzw9VM47QQMAimhlU9cHdaGWz8NzMwye0W3TV6eyue0Fwit+Ddd0R4RDV9bNBDUn7zGd17kjwQwtlo=,iv:1CmuNjo8iR4O7KMKTv4Gp8Q5SmDp4PZURkHOgw8R928=,tag:ds3pJjULeD7mOHryK/dJmw==,type:str]
    pgp: []
    encrypted_regex: ^(hostnames)$
    version: 3.9.0
